
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://thebb.github.io/Grevling/configuration/">
      
      
        <link rel="prev" href="..">
      
      
      
      <link rel="icon" href="../assets/logo-640.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.12">
    
    
      
        <title>Configuration - Grevling</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Grevling" class="md-header__button md-logo" aria-label="Grevling" data-md-component="logo">
      
  <img src="../assets/logo-640.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Grevling
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Grevling" class="md-nav__button md-logo" aria-label="Grevling" data-md-component="logo">
      
  <img src="../assets/logo-640.png" alt="logo">

    </a>
    Grevling
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-the-parameter-space" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the parameter space
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      Preparing a job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      Running a job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collecting-output" class="md-nav__link">
    <span class="md-ellipsis">
      Collecting output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameter-dependent-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Parameter-dependent execution
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Extra evaluation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-the-parameter-space" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying the parameter space
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparing-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      Preparing a job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-a-job" class="md-nav__link">
    <span class="md-ellipsis">
      Running a job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collecting-output" class="md-nav__link">
    <span class="md-ellipsis">
      Collecting output
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameter-dependent-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Parameter-dependent execution
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extra-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Extra evaluation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="configuration">Configuration</h1>
<p>Grevling configuration is written in the
<a href="https://thebb.github.io/Gold">Gold language</a>.
This is a <em>programmable configuration language</em>, meaning that it supports
conventional programming language features such as defining functions, sharing
and importing data to and from other files, and so on. In this context, a
<code>grevling.gold</code> file is a <em>program</em> whose output is a JSON-like object, which is
the actual configuration read by Grevling.</p>
<h2 id="specifying-the-parameter-space">Specifying the parameter space</h2>
<p>Grevling runs <em>parametrized</em> jobs, so it must know what the parameters are for
each job that it runs. The <code>parameters</code> key, if present, maps <em>names of
parameters</em> to <em>lists of possible values</em>, like so:</p>
<pre><code>{
    parameters: {
        degree: [1, 2, 3, 4, 5, 6],
        meshsize: [1, 0.5, 0.25, 0.0125],
        adaptive: [true, false],
    },
}
</code></pre>
<p>This will run the job 48 times in total, once for each combination of
<code>degree</code>, <code>meshsize</code> and <code>adaptive</code>.</p>
<p>Grevling has functions that help facilitate some common use cases. They can be
imported from the <code>"grevling"</code> library - a library that is available for import
when running with Grevling. This is equivalent to the above:</p>
<pre><code>import &quot;grevling&quot; as g

{
    parameters: {
        degree: g.linspace(1, 6, npts: 6),
        meshsize: g.gradspace(1, 0.0125, npts: 4, grading: 0.5),
        adaptive: [true, false],
    }
}
</code></pre>
<p>The function <code>linspace</code> creates a uniform sampling of an interval with the given
number of points. The function <code>gradspace</code> creates a geometric sampling that is
denser in one end than in the other. Each successive subdivision is longer or
shorter than the previous by the factor indicated by <code>grading</code>.</p>
<h2 id="preparing-a-job">Preparing a job</h2>
<p>Grevling runs each instance of a job in a temporary directory. Often this
directory must be prepared before the job runs by copying some files from the
source directory (the directory where the configuration file is located). This
can be configured using the <code>prefiles</code> key, which should be a list of files to
copy. We recommend using the <code>copy</code> function to construct this list.</p>
<pre><code>import &quot;grevling&quot; as { copy }

{
    prefiles: [
        copy(&quot;some-file.txt&quot;),
        copy(&quot;some-other-file.txt&quot;),
    ]
}
</code></pre>
<p>The files will then be copied into the working directory before the job runs.
The name of the file in the working directory will be identical to its name in
the source directory, but the name (and location) can be changed with an
optional second argument:</p>
<pre><code>import &quot;grevling&quot; as { copy }

{
    prefiles: [
        copy(&quot;some-file.txt&quot;, &quot;subpath/somewhere-else.txt&quot;),
    ]
}
</code></pre>
<p>Grevling also supports <em>globbing</em>: copying multiple files at once. For this, use
the <code>glob</code> function.</p>
<pre><code>import &quot;grevling&quot; as { glob }

{
    prefiles: [
        glob(&quot;*.jpg&quot;, &quot;images/&quot;),
    ],
}
</code></pre>
<p>In the above example, all <em>jpg</em> files will be copied into the <em>images</em>
subdirectory in the working directory. Beware that all files will retain their
original relative path to the target. In the following example, the files will
end up in <code>images/subpath/...</code>.</p>
<pre><code>import &quot;grevling&quot; as { glob }

{
    prefiles: [
        glob(&quot;subpath/*.jpg&quot;, &quot;images/&quot;),
    ],
}
</code></pre>
<p>Often, files will need to be modified in some way according to the values of the
parameters. For this, Grevling uses template substitution with the
<a href="https://www.makotemplates.org/">Mako</a> library. To enable template substitution,
set the optional <code>template</code> keyword argument to <code>true</code>.</p>
<pre><code>import &quot;grevling&quot; as { copy }

{
    prefiles: [
        copy(&quot;input.ini&quot;, template: true),
    ]
}
</code></pre>
<p>Please refer to the
<a href="https://docs.makotemplates.org/en/latest/syntax.html">Mako documentation</a>
for more help on writing Mako templates. The values of all parameters will be
available to the template when rendering, as well as the output of the
<code>evaluate</code> function, if present (see <a href="#extra-evaluation">extra evalution</a>).</p>
<p>TODO: Glob</p>
<h2 id="running-a-job">Running a job</h2>
<p>The <code>script</code> key indicates how to run a job after it has been prepared. It is a
list of commands. We recommend using the <code>cmd</code> function to construct this list.</p>
<pre><code>import &quot;grevling&quot; as { cmd }

{
    script: [
        cmd(&quot;some-program --args ...&quot;),
        cmd(&quot;some-other-program --more-args ...&quot;),
    ]
}
</code></pre>
<p>Grevling will the execute each command in sequence, aborting immediately if one
of them fails.</p>
<p>Grevling also supports running a command as a list of arguments (the first
element being the command to run, the subsequent elements being the arguments).
This option is more foolproof against accidental shell quoting trouble, and is
generally recommended - although somewhat more verbose.</p>
<pre><code>import &quot;grevling&quot; as { cmd }

{
    script: [
        cmd([&quot;some-program&quot;, &quot;--args&quot;, ...]),
        cmd([&quot;some-other-program&quot;, &quot;--more-args&quot;, ...]),
    ]
}
</code></pre>
<p>The <code>cmd</code> function takes many optional parameters:</p>
<pre><code>cmd(
    command;
    name = null,
    env = {},
    container = null,
    container_args = [],
    allow_failure = false,
    retry_on_fail = false,
    capture = [],
    workdir = null,
)
</code></pre>
<ul>
<li><em>name</em>: To access information about command output after a job has run, it is
  necessary for each command to have its own uniuqe name. If this is not
  provided, Grevling will attempt to deduce the name from the <em>command</em>
  parameter, but it may be difficult or impossible to do so in certain
  circumstances. For best results, always name your commands.</li>
<li><em>env</em>: Environment variables that will be used to augment the environment of
  the command when it runs.</li>
<li><em>container</em> and <em>container_args</em>: See TODO.</li>
<li><em>allow_failure</em>: If this option is enabled, Grevling will not abort the job if
  this command fails.</li>
<li><em>retry_on_fail</em>: If this option is enabled, Grevling will re-run the command
  if it fails. Note that this continues <em>indefinitely</em> if the command continues
  to fail.</li>
<li><em>capture</em>: Specifications for capturing output from the command's stdout
  stream. TODO.</li>
<li><em>workdir</em>: Use this option to allow the command to run in a different working
  directory. This path is NOT relative to the actual working directory!</li>
</ul>
<h2 id="collecting-output">Collecting output</h2>
<p>After a job isntance has finished successfully, Grevling copies some information
back from the working directory to its own internal database (conventionally
located in the <code>.grevlingdata</code> subdirectory wherever the configuration file is
located). By default, Grevling copies the stdout and stderr stream from each
command, as well as some metadata from the job instance in question. However,
often you'd like to collect more data. For this, use the <code>postfiles</code> key. It
works identically to the <code>prefiles</code> key (see
<a href="#preparing-a-job">preparing a job</a>), except it does not support templates.</p>
<p>Use this to collect output files that you are interested in keeping.</p>
<p>Note that files declared in <code>prefiles</code> will not automatically be copied back
after the job instance is finished. If you want to keep those files, e.g. to
check whether template substitution was successful, those files must be copied
explicitly in <code>postfiles</code> as well.</p>
<pre><code>import &quot;grevling&quot; as { copy }

{
    postfiles: [
        copy(&quot;some-output.dat&quot;),
        copy(&quot;input.ini&quot;),
    ]
}
</code></pre>
<h2 id="parameter-dependent-execution">Parameter-dependent execution</h2>
<p>As a parametrized job runner, Grevling allows almost any step of the job running
process to depend on the value of one or more parameters. As we have seen above,
files can undergo template substitution, but that is not all. Most entries in
the Grevling configuration file can be <em>functions</em> that accept parameters as
input and return the necessary values.</p>
<p>For example, assume we have an <code>adaptive</code> parameter as such:</p>
<pre><code>{
    parameters: {
        adaptive: [true, false],
    }
}
</code></pre>
<p>Let us also assume that our command requires an input file that is different
when <code>adaptive</code> is true as opposed to false, and let us also assume that this
difference is great enough that we are not interested in using template
substitution to solve the problem - or perhaps that the input file is binary,
and thus template substitution will not work.</p>
<p>Instead we could make <code>prefiles</code> a function that determines what file to use:</p>
<pre><code>import &quot;grevling&quot; as { copy }

{
    prefiles: {|adaptive|} [
        copy(
            if adaptive
                then &quot;input-adaptive.dat&quot;
                else &quot;input-nonadaptive.dat&quot;,
            &quot;input.dat&quot;
        ),
    ]
}
</code></pre>
<p>During job preparation, Grevling will call this function with the parameter
<code>adaptive</code> as a keyword argument. The return value will then be used as the job
preparation schema for that job instance. In this case, it indicates that either
<em>input-adaptive.dat</em> or <em>input-nonadaptive.dat</em> should be copied to <em>input.dat</em>
in the working directory, depending on the value of <code>adaptive</code>.</p>
<p>Note that <em>all parameters</em> as well as TODO will be provided as keyword
arguments. In Gold, it is not an error if a function is called with more keyword
arguments than it accepts, thus the above will work even if more parameters are
added: a function may accept only those it requires.</p>
<p>All of the <code>prefiles</code>, <code>postfiles</code> and <code>script</code> keys support this mechanism. It
can be used, for example, to allow command-line arguments to some commands to be
parameter-dependent:</p>
<pre><code>import &quot;grevling&quot; as { cmd }

{
    script: {|adaptive|} [
        cmd([
            &quot;some-command&quot;,
            if adaptive then &quot;--adaptive&quot; else &quot;--no-adaptive&quot;,
        ]),
    ]
}
</code></pre>
<p>or perhaps this, making use of Gold's
<a href="https://thebb.github.io/Gold/whirlwind/#advanced-collections">advanced collection features</a>.</p>
<pre><code>import &quot;grevling&quot; as { cmd }

{
    script: {|adaptive|} [
        cmd([
            &quot;some-command&quot;,
            if adaptive: &quot;--adaptive&quot;,
        ]),
    ]
}
</code></pre>
<h2 id="extra-evaluation">Extra evaluation</h2>
<p>Often it is necessary to perform extra evalution of certain parameter-dependent
quantities in a central location. For this purpose, Grevling offers the
<code>evaluate</code> key, which should be a function of the parameters, and which returns
an object of extra values. Those extra values can be used as input to other
functions (such as <code>prefiles</code>, <code>postfiles</code> and <code>script</code>) - as if they were
parameters, and they are also collected in the Grevling database as part of the
evaluation context TODO.</p>
<p>Consider for example:</p>
<pre><code>{
    parameters: {
        degree: [1, 2, 3, 4, 5, 6],
        meshsize: [1, 0.5, 0.25, 0.0125],
        dimension: [1, 2, 3],
    },
}
</code></pre>
<p>In certain numerical simulations, a relevant quantity of interest might be the
number of nodes in a mesh, which is</p>
<pre><code>    ((1 / meshsize) + degree) ^ dimension
</code></pre>
<p>This formula can of course be replicated everywhere it might be needed:</p>
<ul>
<li>in templates</li>
<li>in functions like <code>prefiles</code>, <code>postfiles</code> and <code>script</code></li>
<li>when querying the database for results after running the job</li>
</ul>
<p>but it is tedious and error-prone to do so. Nor is it really a solution to
parametrize the problem in terms of this quantity. To solve this, we can write:</p>
<pre><code>{
    parameters: {
        degree: [1, 2, 3, 4, 5, 6],
        meshsize: [1, 0.5, 0.25, 0.0125],
        dimension: [1, 2, 3],
    },
    evaluate: {|degree, meshsize, dimension|} {
        numnodes: ((1 / meshsize) + degree) ^ dimension,
    },
}
</code></pre>
<p>Now, <code>numnodes</code> will be available in all those contexts mentioned earlier on the
same level as the parameters. For instance, you could write:</p>
<pre><code>import &quot;grevling&quot; as { copy }

{
    prefiles: {|numnodes|}: [
        copy(&quot;mesh.dat&quot;, &quot;mesh-${nnodes}.dat&quot;),
    ]
}
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 SINTEF AS
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>