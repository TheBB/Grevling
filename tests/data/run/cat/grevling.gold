let {copy} = import("grevling")

in {
    parameters: {
        alpha: [1, 2, 3],
        bravo: ["a", "b", "c"],
    },
    evaluate: {
        charlie: "2 * alpha - 1",
    },
    prefiles: [
        copy("template.txt", template: true),
    ],
    script: [
        {
            command: "cat template.txt",
            capture: [
                "a=(?P<a>\\S+) b=(?P<b>\\S+) c=(?P<c>\\S+)",
                {
                    type: "integer",
                    name: "a_auto",
                    prefix: "a=",
                },
            ],
            capture-output: true,
            capture-walltime: true,
        },
    ],
    types: {
        a: "int",
        b: "str",
        c: "float",
    },
    settings: {
        logdir: ({alpha, bravo}) => "${alpha}-${bravo}",
    },
}
